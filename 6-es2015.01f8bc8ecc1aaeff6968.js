(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"33d8":function(t,e,a){"use strict";a.r(e),a.d(e,"RiderModule",(function(){return D}));var o=a("ofXK"),n=a("tyNb"),i=a("fXoL"),c=a("0IaG"),r=a("NFeN"),d=a("pxUr"),s=a("bTqV");let b=(()=>{class t{constructor(t){this.data=t}ngOnInit(){this.latitude=this.data.address.latitude,this.longitude=this.data.address.longitude,this.zoom=15}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(c.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-mapdialog"]],decls:15,vars:9,consts:[["mat-dialog-title",""],["color","primary"],[3,"latitude","longitude","zoom"],[3,"latitude","longitude"],["align","start"],["mat-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(i.Vb(0,"h2",0),i.Vb(1,"mat-icon",1),i.Fc(2," location_on"),i.Ub(),i.Fc(3),i.Ub(),i.Vb(4,"h2",0),i.Vb(5,"span"),i.Vb(6,"mat-icon",1),i.Fc(7,"smartphone"),i.Ub(),i.Fc(8),i.Ub(),i.Ub(),i.Vb(9,"agm-map",2),i.Qb(10,"agm-marker",3),i.Ub(),i.Vb(11,"mat-dialog-actions",4),i.Vb(12,"button",5),i.Vb(13,"mat-icon"),i.Fc(14,"close"),i.Ub(),i.Ub(),i.Ub()),2&t&&(i.Db(3),i.Jc(" ",e.data.address.postelAddress,", ",e.data.address.city,", ",e.data.address.country,"\n"),i.Db(5),i.Hc(" ",e.data.customer.phone," "),i.Db(1),i.oc("latitude",e.latitude)("longitude",e.longitude)("zoom",e.zoom),i.Db(1),i.oc("latitude",e.latitude)("longitude",e.longitude))},directives:[c.h,r.a,d.b,d.c,c.c,s.b,c.d],styles:["agm-map[_ngcontent-%COMP%]{height:300px}"]}),t})();var l=a("7r2Y"),u=a("MhMf"),g=a("Wp6s"),m=a("XiUz"),p=a("f0Cb"),f=a("TU8p");function h(t,e){if(1&t&&(i.Vb(0,"div",8),i.Vb(1,"p",9),i.Fc(2),i.ic(3,"titlecase"),i.Ub(),i.Vb(4,"p",2),i.Qb(5,"span",10),i.Fc(6),i.Ub(),i.Ub()),2&t){const t=e.$implicit;i.Db(2),i.Gc(i.jc(3,3,t.item.name)),i.Db(3),i.oc("matBadge",t.quantity),i.Db(1),i.Hc(" ",t.item.unit,"")}}function U(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",11),i.Vb(1,"button",6),i.dc("click",(function(){i.xc(t);const e=i.hc().$implicit;return i.hc().delivered(e)})),i.Vb(2,"mat-icon"),i.Fc(3," done_all"),i.Ub(),i.Ub(),i.Ub()}}function v(t,e){if(1&t){const t=i.Wb();i.Tb(0),i.Vb(1,"mat-card",1),i.Vb(2,"mat-card-header"),i.Vb(3,"mat-card-title"),i.Fc(4),i.ic(5,"date"),i.Ub(),i.Vb(6,"mat-card-subtitle"),i.Fc(7),i.ic(8,"currency"),i.Ub(),i.Vb(9,"div",2),i.Vb(10,"button",3),i.Fc(11),i.Ub(),i.Ub(),i.Ub(),i.Qb(12,"mat-divider"),i.Vb(13,"mat-card-content"),i.Qb(14,"br"),i.Dc(15,h,7,5,"div",4),i.Ub(),i.Qb(16,"mat-divider"),i.Vb(17,"mat-card-actions"),i.Vb(18,"div"),i.Vb(19,"h2"),i.Vb(20,"mat-icon"),i.Fc(21,"person"),i.Ub(),i.Fc(22),i.Ub(),i.Ub(),i.Vb(23,"div",5),i.Vb(24,"button",6),i.dc("click",(function(){i.xc(t);const a=e.$implicit;return i.hc().opendialog(a)})),i.Vb(25,"mat-icon"),i.Fc(26,"location_on"),i.Ub(),i.Ub(),i.Ub(),i.Dc(27,U,4,0,"div",7),i.Ub(),i.Ub(),i.Sb()}if(2&t){const t=e.$implicit;i.Db(4),i.Gc(i.kc(5,7,t.placedAt,"MMM d, h:mm a")),i.Db(3),i.Ic("",t.orderItems.length," items of ",i.lc(8,10,t.orderAmount,"PKR ","symbol","2.2"),""),i.Db(4),i.Gc(t.status),i.Db(4),i.oc("ngForOf",t.orderItems),i.Db(7),i.Hc(" ",t.customer.name," "),i.Db(5),i.oc("ngIf","delivered"!=t.status)}}let y=(()=>{class t{constructor(t,e,a){this.orderService=t,this.localStorage=e,this.dialog=a}ngOnInit(){this.riderId=this.localStorage.getUser().id,console.log("rider id: "+this.riderId),this.orders$=this.orderService.getOrdersByRider(this.riderId),this.orderService.getOrdersByRider(this.riderId).subscribe(t=>console.log(t))}delivered(t){this.orderService.changeStatus(t.id,"delivered").subscribe(()=>{console.log(status),t.status=status,this.ngOnInit()})}opendialog(t){const e=new c.e;e.disableClose=!0,e.autoFocus=!0,e.width="50%",e.disableClose=!1,e.data=t,console.log(t),this.dialog.open(b,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(l.a),i.Pb(u.a),i.Pb(c.b))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-orders"]],decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"mat-elevation-z8","order-card"],["fxFlex",""],["disabled","",1,"status"],["fxLayout","row wrap","fxLayoutAlign","flex-start",4,"ngFor","ngForOf"],["fxFlex","","fxLayoutAlign","end end"],["mat-icon-button","","color","blue",3,"click"],["fxLayoutAlign","end end",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","flex-start"],["fxFlex","50"],["matBadgeOverlap","false",1,"stretch-badge",3,"matBadge"],["fxLayoutAlign","end end"]],template:function(t,e){1&t&&(i.Dc(0,v,28,15,"ng-container",0),i.ic(1,"async")),2&t&&i.oc("ngForOf",i.jc(1,1,e.orders$))},directives:[o.l,g.a,g.e,g.i,g.h,m.a,p.a,g.c,g.b,r.a,m.b,s.b,o.m,m.c,f.a],pipes:[o.b,o.f,o.d,o.u],styles:[".order-card[_ngcontent-%COMP%]{margin:20px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-3px}.stretch-badge[_ngcontent-%COMP%] > .mat-badge-content[_ngcontent-%COMP%]{background-color:#fbfbfb!important;border:.1px solid #d3d3d3;color:rgba(0,0,0,.5);font-size:14px!important;font-weight:500;border-radius:0}.stretch-badge[_ngcontent-%COMP%]{margin-right:2em}.status[_ngcontent-%COMP%]{background-color:green;border:0;padding:3px 8px;color:#fff;font-size:12px}"]}),t})();const V=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-rider"]],decls:1,vars:0,template:function(t,e){1&t&&i.Qb(0,"app-orders")},directives:[y],styles:[""]}),t})(),canActivate:[a("Z6yO").a]}];let x=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},imports:[[n.f.forChild(V)],n.f]}),t})();var F=a("hctd"),O=a("YUcS"),w=a("tk/3"),M=a("tElQ");let D=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},providers:[{provide:w.a,useClass:M.a,multi:!0}],imports:[[o.c,x,F.a,O.a,d.a.forRoot({apiKey:"AIzaSyBWUW77f1C6fvmOQzpS9gzUeaIvMLGhtrE",libraries:["places"]})]]}),t})()}}]);